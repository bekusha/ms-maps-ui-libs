<ms-map 
  [wkt]="!useWktList() ? (wktGeometry() || '') : ''"
  [wktList]="useWktList() ? wktList() : []"
  [zoom]="12"
  width="100%"
  height="500px"
  [mapConfigObject]="mapConfig()"
  [mode]="mapMode()"
  [editOptions]="[EditToolType.POINT, EditToolType.LINE, EditToolType.POLYGON]"
  (geometryDrawn)="handleGeometryDrawn($event)"
  >
</ms-map>

<div style="margin-top: 16px;">
  <button (click)="toggleMapMode()">
    Switch to {{ mapMode() === MapMode.VIEW ? 'EDIT' : 'VIEW' }} Mode
  </button>
  <button (click)="toggleWktMode()" style="margin-left: 8px;">
    {{ useWktList() ? 'Use Single WKT' : 'Use WKT List' }}
  </button>
  <button (click)="loadScatteredWktList()" style="margin-left: 8px;" >
    Load Scattered WKT List
  </button>
  <button (click)="clearGeometry()" style="margin-left: 8px;">Clear Geometry</button>
  <button (click)="copyWKTToClipboard()" style="margin-left: 8px;">Copy WKT to Clipboard</button>
</div>

<!-- returned wkt geometry from the map component -->
<div style="margin-top: 16px;">
  <p><strong>{{ useWktList() ? 'WKT Geometries List:' : 'WKT Geometry:' }}</strong></p>
  @if (!useWktList()) {
    <pre style="background: #f5f5f5; padding: 8px; border-radius: 4px; overflow-x: auto;">{{ wktGeometry() || 'No geometry drawn' }}</pre>
  }
  @if (useWktList()) {
    <div>
      @if (wktList().length > 0) {
        <pre style="background: #f5f5f5; padding: 8px; border-radius: 4px; overflow-x: auto;">
          @for (wkt of wktList(); track $index) {
            <div>
              <strong>{{ $index + 1 }}.</strong> {{ wkt }}
            </div>
          }
        </pre>
      }
      @if (wktList().length === 0) {
        <p>No geometries in list</p>
      }
    </div>
  }
</div>
