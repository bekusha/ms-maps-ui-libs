<ms-map 
  [wkt]="wktGeometry() || ''"
  [zoom]="12"
  width="100%"
  height="500px"
  [mapConfigObject]="mapConfig()"
  [mode]="mapMode()"
  [editOptions]="[EditToolType.POINT, EditToolType.LINE, EditToolType.POLYGON]"
  (geometryDrawn)="handleGeometryDrawn($event)"
  >
</ms-map>

<div style="margin-top: 16px;">
  <button (click)="toggleMapMode()">
    Switch to {{ mapMode() === MapMode.VIEW ? 'EDIT' : 'VIEW' }} Mode
  </button>
  <button (click)="clearGeometry()" style="margin-left: 8px;">Clear Geometry</button>
  <button (click)="copyWKTToClipboard()" style="margin-left: 8px;">Copy WKT to Clipboard</button>
</div>

<!-- returned wkt geometry from the map component -->
<div style="margin-top: 16px;">
  <p><strong>WKT Geometry:</strong></p>
  <pre style="background: #f5f5f5; padding: 8px; border-radius: 4px; overflow-x: auto;">{{ wktGeometry() || 'No geometry drawn' }}</pre>
</div>

<div style="margin-top: 16px;" *ngIf="geometryDrawnEvent()">
  <p><strong>Last Draw Event:</strong></p>
  <p>Tool: {{ geometryDrawnEvent()?.tool }}</p>
  <p>Timestamp: {{ geometryDrawnEvent() | json }}</p>
</div>